<div class="wrapper-modal">

  <!--Assign Job-->
  <div class="modal fade" id="Modal1" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="close-box">
          <button type="button" data-dismiss="modal">X</button>
        </div>

        <div class="modal-body space-bitween">
          <form #assign="ngForm" (ngSubmit)="onClickAssignDriver()">
            <div class="row">
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="name" class="col-form-label">Route Name</label>
                  <input type="text" class="form-control" id="name" placeholder="Route Name" name='route_name'
                    [(ngModel)]="assignDriverFormModel.route_name" #route_name="ngModel"
                    [ngClass]="{ 'is-invalid': assign.submitted && route_name.invalid }" autocomplete="off" required />
                  <div *ngIf="assign.submitted && route_name.invalid" class="invalid-feedback">
                    <div *ngIf="route_name.errors.required">Route Name is required</div>
                  </div>
                </div>
              </div>

              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-group">
                  <label for="date" class="col-form-label">Date</label>
                  <input type="text" class="form-control" id="date" placeholder="Date">
                </div>
              </div>

              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-group">
                  <label for="time" class="col-form-label">Time</label>
                  <input type="text" class="form-control" id="time" placeholder="Time">
                </div>
              </div>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="Assign Driver" class="col-form-label">Assign Driver</label>
                  <select class="form-control" id="sel1" name='driver_id' [(ngModel)]="assignDriverFormModel.driver_id"
                    #driver_id="ngModel" [ngClass]="{ 'is-invalid': assign.submitted && driver_id.invalid }" required>
                    <option [value]='0' selected="selected">--Select Driver--</option>
                    <option *ngFor="let driver of driverList; let i = index" [value]="driver.id">
                      {{driver.name}}
                    </option>
                  </select>
                  <div *ngIf="assign.submitted && driver_id.invalid" class="invalid-feedback">
                    <div *ngIf="driver_id.errors.required">Driver is required</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" type="submit" class="btn btn-primary" [disabled]="!assign.form.valid">Assign
                Driver</button>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>
  <!--//Assign Job-->


  <!--Cancel Job-->
  <div class="modal fade" id="Modal2" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="close-box">
          <button type="button" data-dismiss="modal">X</button>
        </div>

        <div class="modal-body space-bitween">
          <div class="inner-set-section">
            <div class="tagline-headding">Would you like to cancel the job ?</div>
            <div class="main-paira">
              <p>Shipment Ticket:{{shipment_ticket}}</p>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button (click)="processCancelShipment(shipment_ticket)" type="button" class="btn btn-primary">Please do
            it!</button>
        </div>
        <div class="modal-footer">
          <button type="button" data-dismiss="modal">Cancel</button>
        </div>

      </div>
    </div>
  </div>
  <!--//Cancel Job-->

  <!--Withdraw Job-->
  <div class="modal fade" id="Modal3" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="close-box">
          <button type="button" data-dismiss="modal">X</button>
        </div>

        <div class="modal-body space-bitween">
          <div class="inner-set-section">
            <div class="tagline-headding">Would you like to withdraw the route {{shipment_route_name}}?</div>
            <div class="main-paira">
              <p>All of the unprocessed shipment will move to saved job.</p>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button (click)="processWithdrawShipment(shipment_route_id)" type="button" class="btn btn-primary">Please do
            it!</button>
        </div>
        <div class="modal-footer">
          <button type="button" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  <!--//Withdraw Job-->

  <!--View Details-->
  <div class="modal fade" id="Modal4" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="close-box">
          <button type="button" data-dismiss="modal">X</button>
        </div>
        <div class="modal-footers" *ngIf="routeType=='assign'">
          <button (click)="processReleaseShipment()" type="button" class="btn btn-primary">Release Shipment</button>
          <a href="" class="btn btn-primary" data-toggle="modal" data-target="#Modal6"
            [attr.data-dismiss]="releaseShipmentTkt.length?modal:''">
            <span>Deliver Shipment</span>
          </a>
          <button type="button" class="btn btn-primary" (click)="downloadExportCageSheet()">Export Cagesheet</button>
          <a href="" class="btn btn-primary" data-toggle="modal" data-target="#Modal5"
            [attr.data-dismiss]="releaseShipmentTkt.length?modal:''">
            <span>Carded Shipment</span>
          </a>
        </div>
        <div class="modal-body space-bitween">
          <div class="mx-auto" style="width: 200px;">
            <span>Route:{{routeName}}</span>
          </div>
          <div class="mx-auto" style="width: 200px;">
            <span>Driver:{{driverName}}</span>
          </div>

          <div class="inner-set-section">
            <ag-grid-angular style="width: auto; height: 500px;" class="ag-theme-balham" [rowData]="rowData"
              [columnDefs]="columnDefs" [modules]="modules" [suppressRowClickSelection]="true"
              [rowSelection]='selectionMode' (selectionChanged)="onSelectionChanged($event)">
            </ag-grid-angular>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--//View Details-->


  <!--Shipment Carded Form-->
  <div *ngIf="releaseShipmentTkt.length" class="modal fade" id="Modal5" tabindex="-1" role="dialog"
    aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="close-box">
          <button type="button" data-dismiss="modal">X</button>
        </div>

        <div class="modal-body space-bitween">
          <div class="inner-set-section">
            <div class="tagline-headding">Carded Shipment(s)</div>
          </div>
          <form #cardedForm="ngForm" (ngSubmit)="onClickCarded()">
            <div class="row">
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="name" class="col-form-label">Carded Status</label>
                  <select class="form-control" id="sel1" name='carded_status' [(ngModel)]="cardedFormModel.carded_status" #carded_status="ngModel" required>
                    <option selected="selected">--Select Status--</option>
                    <option *ngFor="let cd of cardedeOptions" [value]="cd">
                        {{cd}}
                      </option>
                  </select>
                  <div *ngIf="cardedForm.submitted && driver_comment.invalid" class="invalid-feedback">
                      <div *ngIf="carded_status.errors.required">Comment is required</div>
                  </div>
                </div>
              </div>

              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="name" class="col-form-label">Drivers Comment</label>
                  <input type="text" class="form-control" id="name" placeholder="Comment" name='driver_comment'
                    [(ngModel)]="cardedFormModel.driver_comment" #driver_comment="ngModel" autocomplete="off" required/>
                </div>
                <div *ngIf="cardedForm.submitted && driver_comment.invalid" class="invalid-feedback">
                    <div *ngIf="driver_comment.errors.required">Comment is required</div>
                </div>
              </div>

              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="date" class="col-form-label">Next Schedule Date and Time</label>
                  <input type="text" class="form-control" id="date" placeholder="Date">
                </div>
              </div>


            </div>
            <div class="modal-footer">
              <button type="button" type="submit" class="btn btn-primary"
                [disabled]="!cardedForm.form.valid">Carded</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!--//Shipment Carded Form-->

  <!--Deliver Shipment-->
  <div *ngIf="releaseShipmentTkt.length" class="modal fade" id="Modal6" tabindex="-1" role="dialog"
    aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="close-box">
          <button type="button" data-dismiss="modal">X</button>
        </div>

        <div class="modal-body space-bitween">
          <div class="inner-set-section">
            <div class="tagline-headding">Delivered Shipment(s)</div>
          </div>
          <form #deliverForm="ngForm" (ngSubmit)="onClickDeliver()">
            <div class="row">
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="name" class="col-form-label">Contact Person</label>
                  <input type="text" class="form-control" id="name" placeholder="Contact Person" name='contact_person'
                    [(ngModel)]="deliverFormModel.contact_person" #contact_person="ngModel" autocomplete="off" required/>
                </div>
                <div *ngIf="deliverForm.submitted && contact_person.invalid" class="invalid-feedback">
                    <div *ngIf="contact_person.errors.required">Contact Name required</div>
                </div>
              </div>

              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="name" class="col-form-label">Comment</label>
                  <input type="text" class="form-control" id="name" placeholder="Comment" name='deliver_comment'
                    [(ngModel)]="deliverFormModel.deliver_comment" #deliver_comment="ngModel" autocomplete="off" required/>
                </div>
                <div *ngIf="deliverForm.submitted && deliver_comment.invalid" class="invalid-feedback">
                    <div *ngIf="deliver_comment.errors.required">Comment is required</div>
                </div>
              </div>

              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="form-group">
                  <label for="date" class="col-form-label">Next Schedule Date and Time</label>
                  <input type="text" class="form-control" id="date" placeholder="Date">
                </div>
              </div>


            </div>
            <div class="modal-footer">
              <button type="button" type="submit" class="btn btn-primary"
                [disabled]="!deliverForm.form.valid">Carded</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!--//Deliver Shipment-->
</div>